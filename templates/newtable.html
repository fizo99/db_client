{% extends 'layout.html' %}
{% block body %}
<div class="jumbotron">
    <h1 class="display-4">{{tableName}} schema</h1>
    <table class="table">
        <thead>
          <tr>
            <th scope="col">#</th>
            <th scope="col">Column name</th>
            <th scope="col">Data type</th>
          </tr>
        </thead>
        <tbody id="fields">

          <tr>
            <th scope="row">0</th>
            <td>
                <input class="form-control col-8" type="text" placeholder="Insert name">
            </td>
            <td>
                <div class="form-group d-flex flex-row">
                    <select class="form-control">
                        <option selected value="int">int</option>
                        <option value="float">float</option>
                        <option value="varchar">varchar</option>
                      </select>
                </div>
                
            </td>
          </tr>
        
        </tbody>
      </table>
      <div class="d-flex flex-row-reverse mt-5">
        <button onClick="newField()" class="btn btn-light col-2 ml-2">Add field</button>
        <button onClick="save()" class="btn btn-light col-2 ml-2">Save</button>
      </div>
</div>
<script>
  let i = 1;
  const table = document.getElementById("fields")
  async function save(){
    console.log("aaa")
  }

  async function newField(){
    const nextRow = document.createElement("tr");
    const rowContent = newRow(i)
    nextRow.innerHTML = rowContent.trim();
    table.appendChild(nextRow);
    i++;
  }
  function newRow(i) {
      return `
            <th scope="row">${i}</th>
            <td>
                <input class="form-control col-8" type="text" placeholder="Insert name">
            </td>
            <td>
                <div class="form-group d-flex flex-row">
                    <select class="form-control">
                        <option selected value="int">int</option>
                        <option value="float">float</option>
                        <option value="varchar">varchar</option>
                      </select>
                </div>
                
            </td>`
  }
</script>
{% endblock %}
